# S3 Support

Furman includes a full-featured S3 client that works with any S3-compatible storage — AWS, MinIO, Backblaze B2, Cloudflare R2, etc.

## Connecting

Press **Cmd+S** to open the S3 connection dialog. You can authenticate using:
- **AWS profile** — uses profiles from `~/.aws/credentials`
- **Access key / secret key** — stored in macOS Keychain
- **Default credentials** — uses the default AWS credential chain

Saved connections appear in the sidebar for quick access. Press **Cmd+S** again while connected to disconnect.

## Browsing & Navigation

- Browse buckets and objects with standard dual-pane navigation
- Create folders and rename objects
- Create and delete buckets (via S3 Manager in sidebar)
- Search objects by name within a bucket (**Cmd+F**)
- Quick filter works the same as local panels — just start typing

## Transfers

- **Download** (S3 → local) and **upload** (local → S3) with drag-and-drop or Copy/Move commands
- **S3-to-S3 copy** between different connections
- **Multipart upload** for large files (>8 MiB) with concurrent parts and automatic retries
- **Transfer queue** with configurable concurrency (1–5 simultaneous transfers)
- **Pause / resume** with checkpointing — interrupted transfers pick up where they left off
- **Transfer speed** displayed with smoothed (EMA) calculation
- **Sync** (Cmd+Y) — bidirectional diff between local and S3 panels

## Object Operations

| Shortcut | Action |
|----------|--------|
| Cmd+U | Generate presigned URL (copy to clipboard) |
| Cmd+K | Copy S3 URI (`s3://bucket/key`) to clipboard |
| Cmd+L | Bulk storage class change for selected objects |
| Cmd+I / F9 | Properties (storage class, versions, metadata, tags) |

### Storage Class

Change storage class for individual objects (via Properties) or in bulk (Cmd+L). Supported classes: `STANDARD`, `STANDARD_IA`, `ONEZONE_IA`, `INTELLIGENT_TIERING`, `GLACIER`, `GLACIER_IR`, `DEEP_ARCHIVE`.

### Glacier Restore

Objects in Glacier/Deep Archive storage classes can be restored from the Properties dialog with configurable restore duration and retrieval tier (Standard, Bulk, Expedited).

### Versioning

View, download, restore, or delete individual object versions from the Properties dialog (expandable section).

### Metadata & Tags

From the Properties dialog:
- **Object metadata** — edit Content-Type, Content-Disposition, Cache-Control, Content-Encoding, and custom metadata key-value pairs
- **Object tags** — edit up to 10 tags per object
- **Bucket tags** — edit up to 50 tags per bucket

## Bucket Configuration

All bucket-level settings are accessible from the Properties dialog when viewing the bucket root (select the bucket entry and press Cmd+I).

### Always Visible

- **Versioning** — view status (Enabled/Suspended/Disabled), enable or suspend
- **Encryption** — view SSE algorithm, KMS key ID, bucket key status
- **Public Access Block** — toggle all 4 settings: block public ACLs, ignore public ACLs, block public policy, restrict public buckets

### Expandable Sections

- **Bucket Tags** — add, edit, remove bucket-level tags
- **Incomplete Uploads** — list and abort incomplete multipart uploads (individual or all at once)
- **Lifecycle Rules** — full CRUD for lifecycle rules including current-version transitions, expiration, noncurrent-version transitions/expiration, and abort incomplete multipart upload settings
- **CORS Configuration** — add, edit, remove CORS rules with per-rule allowed origins, methods, headers, expose headers, and max age
- **Bucket Policy** — JSON editor with validation; save or delete policy
- **ACL** — read-only viewer showing owner and grants with friendly labels for well-known groups (Everyone, Authenticated Users, Log Delivery)
